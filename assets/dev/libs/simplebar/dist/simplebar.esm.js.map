{"version":3,"file":"simplebar.esm.js","sources":["../src/simplebar.js"],"sourcesContent":["import scrollbarWidth from 'scrollbarwidth';\nimport throttle from 'lodash.throttle';\nimport ResizeObserver from 'resize-observer-polyfill';\nimport canUseDOM from 'can-use-dom';\n\nexport default class SimpleBar {\n  constructor(element, options) {\n    this.el = element;\n    this.flashTimeout;\n    this.contentEl;\n    this.scrollContentEl;\n    this.dragOffset = { x: 0, y: 0 };\n    this.isEnabled = { x: true, y: true };\n    this.isVisible = { x: false, y: false };\n    this.scrollOffsetAttr = { x: 'scrollLeft', y: 'scrollTop' };\n    this.sizeAttr = { x: 'offsetWidth', y: 'offsetHeight' };\n    this.scrollSizeAttr = { x: 'scrollWidth', y: 'scrollHeight' };\n    this.offsetAttr = { x: 'left', y: 'top' };\n    this.handleSize = { x: 0, y: 0 };\n    this.globalObserver;\n    this.mutationObserver;\n    this.resizeObserver;\n    this.currentAxis;\n    this.scrollbarWidth;\n    this.options = Object.assign({}, SimpleBar.defaultOptions, options);\n    this.isRtl = this.options.direction === 'rtl';\n    this.classNames = this.options.classNames;\n    this.offsetSize = 20;\n\n    this.recalculate = throttle(this.recalculate.bind(this), 1000);\n    this.onMouseMove = throttle(this.onMouseMove.bind(this), 100);\n\n    this.init();\n  }\n\n  static get defaultOptions() {\n    return {\n      autoHide: true,\n      forceVisible: false,\n      classNames: {\n        content: 'simplebar-content',\n        scrollContent: 'simplebar-scroll-content',\n        scrollbar: 'simplebar-scrollbar',\n        track: 'simplebar-track'\n      },\n      scrollbarMinSize: 25,\n      scrollbarMaxSize: 0,\n      direction: 'ltr',\n      timeout: 1000\n    };\n  }\n\n  static initHtmlApi() {\n    this.initDOMLoadedElements = this.initDOMLoadedElements.bind(this);\n\n    // MutationObserver is IE11+\n    if (typeof MutationObserver !== 'undefined') {\n      // Mutation observer to observe dynamically added elements\n      this.globalObserver = new MutationObserver(mutations => {\n        mutations.forEach(mutation => {\n          Array.from(mutation.addedNodes).forEach(addedNode => {\n            if (addedNode.nodeType === 1) {\n              if (addedNode.hasAttribute('data-simplebar')) {\n                !addedNode.SimpleBar &&\n                  new SimpleBar(addedNode, SimpleBar.getElOptions(addedNode));\n              } else {\n                Array.from(\n                  addedNode.querySelectorAll('[data-simplebar]')\n                ).forEach(el => {\n                  !el.SimpleBar &&\n                    new SimpleBar(el, SimpleBar.getElOptions(el));\n                });\n              }\n            }\n          });\n\n          Array.from(mutation.removedNodes).forEach(removedNode => {\n            if (removedNode.nodeType === 1) {\n              if (removedNode.hasAttribute('data-simplebar')) {\n                removedNode.SimpleBar && removedNode.SimpleBar.unMount();\n              } else {\n                Array.from(\n                  removedNode.querySelectorAll('[data-simplebar]')\n                ).forEach(el => {\n                  el.SimpleBar && el.SimpleBar.unMount();\n                });\n              }\n            }\n          });\n        });\n      });\n\n      this.globalObserver.observe(document, { childList: true, subtree: true });\n    }\n\n    // Taken from jQuery `ready` function\n    // Instantiate elements already present on the page\n    if (\n      document.readyState === 'complete' ||\n      (document.readyState !== 'loading' && !document.documentElement.doScroll)\n    ) {\n      // Handle it asynchronously to allow scripts the opportunity to delay init\n      window.setTimeout(this.initDOMLoadedElements);\n    } else {\n      document.addEventListener('DOMContentLoaded', this.initDOMLoadedElements);\n      window.addEventListener('load', this.initDOMLoadedElements);\n    }\n  }\n\n  // Helper function to retrieve options from element attributes\n  static getElOptions(el) {\n    const options = Array.from(el.attributes).reduce((acc, attribute) => {\n      const option = attribute.name.match(/data-simplebar-(.+)/);\n      if (option) {\n        const key = option[1].replace(/\\W+(.)/g, (x, chr) => chr.toUpperCase());\n        switch (attribute.value) {\n          case 'true':\n            acc[key] = true;\n            break;\n          case 'false':\n            acc[key] = false;\n            break;\n          case undefined:\n            acc[key] = true;\n            break;\n          default:\n            acc[key] = attribute.value;\n        }\n      }\n      return acc;\n    }, {});\n    return options;\n  }\n\n  static removeObserver() {\n    this.globalObserver.disconnect();\n  }\n\n  static initDOMLoadedElements() {\n    document.removeEventListener(\n      'DOMContentLoaded',\n      this.initDOMLoadedElements\n    );\n    window.removeEventListener('load', this.initDOMLoadedElements);\n\n    Array.from(document.querySelectorAll('[data-simplebar]')).forEach(el => {\n      if (!el.SimpleBar) new SimpleBar(el, SimpleBar.getElOptions(el));\n    });\n  }\n\n  init() {\n    // Save a reference to the instance, so we know this DOM node has already been instancied\n    this.el.SimpleBar = this;\n\n    this.initDOM();\n\n    // We stop here on server-side\n    if (canUseDOM) {\n      // Calculate content size\n      this.hideNativeScrollbar();\n      this.render();\n  \n      this.initListeners();\n    }\n  }\n\n  initDOM() {\n    // make sure this element doesn't have the elements yet\n    if (\n      Array.from(this.el.children).filter(child =>\n        child.classList.contains(this.classNames.scrollContent)\n      ).length\n    ) {\n      // assume that element has his DOM already initiated\n      this.trackX = this.el.querySelector(\n        `.${this.classNames.track}.horizontal`\n      );\n      this.trackY = this.el.querySelector(`.${this.classNames.track}.vertical`);\n      this.scrollContentEl = this.el.querySelector(\n        `.${this.classNames.scrollContent}`\n      );\n      this.contentEl = this.el.querySelector(`.${this.classNames.content}`);\n    } else {\n      // Prepare DOM\n      this.scrollContentEl = document.createElement('div');\n      this.contentEl = document.createElement('div');\n\n      this.scrollContentEl.classList.add(this.classNames.scrollContent);\n      this.contentEl.classList.add(this.classNames.content);\n\n      while (this.el.firstChild) this.contentEl.appendChild(this.el.firstChild);\n\n      this.scrollContentEl.appendChild(this.contentEl);\n      this.el.appendChild(this.scrollContentEl);\n    }\n\n    if (!this.trackX || !this.trackY) {\n      const track = document.createElement('div');\n      const scrollbar = document.createElement('div');\n\n      track.classList.add(this.classNames.track);\n      scrollbar.classList.add(this.classNames.scrollbar);\n\n      if (!this.options.autoHide) {\n        scrollbar.classList.add('visible');\n      }\n\n      track.appendChild(scrollbar);\n\n      this.trackX = track.cloneNode(true);\n      this.trackX.classList.add('horizontal');\n\n      this.trackY = track.cloneNode(true);\n      this.trackY.classList.add('vertical');\n\n      this.el.insertBefore(this.trackX, this.el.firstChild);\n      this.el.insertBefore(this.trackY, this.el.firstChild);\n    }\n\n    this.scrollbarX = this.trackX.querySelector(\n      `.${this.classNames.scrollbar}`\n    );\n    this.scrollbarY = this.trackY.querySelector(\n      `.${this.classNames.scrollbar}`\n    );\n\n    this.el.setAttribute('data-simplebar', 'init');\n  }\n\n  initListeners() {\n    // Event listeners\n    if (this.options.autoHide) {\n      this.el.addEventListener('mouseenter', this.onMouseEnter);\n    }\n\n    this.el.addEventListener('mousedown', this.onMouseDown);\n    this.el.addEventListener('mousemove', this.onMouseMove);\n\n    this.contentEl.addEventListener('scroll', this.onScrollX);\n    this.scrollContentEl.addEventListener('scroll', this.onScrollY);\n\n    // Browser zoom triggers a window resize\n    window.addEventListener('resize', this.onWindowResize);\n\n    // MutationObserver is IE11+\n    if (typeof MutationObserver !== 'undefined') {\n      // create an observer instance\n      this.mutationObserver = new MutationObserver(mutations => {\n        mutations.forEach(mutation => {\n          if (this.isChildNode(mutation.target) || mutation.addedNodes.length) {\n            this.recalculate();\n          }\n        });\n      });\n\n      // pass in the target node, as well as the observer options\n      this.mutationObserver.observe(this.el, {\n        attributes: true,\n        childList: true,\n        characterData: true,\n        subtree: true\n      });\n    }\n\n    this.resizeObserver = new ResizeObserver(this.recalculate);\n    this.resizeObserver.observe(this.el);\n  }\n\n  /**\n   * Recalculate scrollbar\n   */\n  recalculate() {\n    this.render();\n  }\n\n  render() {\n    this.contentSizeX = this.contentEl[this.scrollSizeAttr['x']];\n    this.contentSizeY =\n      this.contentEl[this.scrollSizeAttr['y']] -\n      (this.scrollbarWidth || this.offsetSize);\n    this.trackXSize = this.trackX[this.sizeAttr['x']];\n    this.trackYSize = this.trackY[this.sizeAttr['y']];\n\n    // Set isEnabled to false if scrollbar is not necessary (content is shorter than wrapper)\n    this.isEnabled['x'] = this.trackXSize < this.contentSizeX;\n    this.isEnabled['y'] = this.trackYSize < this.contentSizeY;\n\n    this.resizeScrollbar('x');\n    this.resizeScrollbar('y');\n\n    this.positionScrollbar('x');\n    this.positionScrollbar('y');\n\n    this.toggleTrackVisibility('x');\n    this.toggleTrackVisibility('y');\n  }\n\n  /**\n   * Resize scrollbar\n   */\n  resizeScrollbar(axis = 'y') {\n    let scrollbar;\n    let contentSize;\n    let trackSize;\n\n    if (!this.isEnabled[axis] && !this.options.forceVisible) {\n      return;\n    }\n\n    if (axis === 'x') {\n      scrollbar = this.scrollbarX;\n      contentSize = this.contentSizeX;\n      trackSize = this.trackXSize;\n    } else {\n      // 'y'\n      scrollbar = this.scrollbarY;\n      contentSize = this.contentSizeY;\n      trackSize = this.trackYSize;\n    }\n\n    let scrollbarRatio = trackSize / contentSize;\n\n    // Calculate new height/position of drag handle.\n    this.handleSize[axis] = Math.max(\n      ~~(scrollbarRatio * trackSize),\n      this.options.scrollbarMinSize\n    );\n\n    if (this.options.scrollbarMaxSize) {\n      this.handleSize[axis] = Math.min(\n        this.handleSize[axis],\n        this.options.scrollbarMaxSize\n      );\n    }\n\n    if (axis === 'x') {\n      scrollbar.style.width = `${this.handleSize[axis]}px`;\n    } else {\n      scrollbar.style.height = `${this.handleSize[axis]}px`;\n    }\n  }\n\n  positionScrollbar(axis = 'y') {\n    let scrollbar;\n    let scrollOffset;\n    let contentSize;\n    let trackSize;\n\n    if (axis === 'x') {\n      scrollbar = this.scrollbarX;\n      scrollOffset = this.contentEl[this.scrollOffsetAttr[axis]]; // Either scrollTop() or scrollLeft().\n      contentSize = this.contentSizeX;\n      trackSize = this.trackXSize;\n    } else {\n      // 'y'\n      scrollbar = this.scrollbarY;\n      scrollOffset = this.scrollContentEl[this.scrollOffsetAttr[axis]]; // Either scrollTop() or scrollLeft().\n      contentSize = this.contentSizeY;\n      trackSize = this.trackYSize;\n    }\n\n    let scrollPourcent = scrollOffset / (contentSize - trackSize);\n    let handleOffset = ~~((trackSize - this.handleSize[axis]) * scrollPourcent);\n\n    if (this.isEnabled[axis] || this.options.forceVisible) {\n      if (axis === 'x') {\n        scrollbar.style.transform = `translate3d(${handleOffset}px, 0, 0)`;\n      } else {\n        scrollbar.style.transform = `translate3d(0, ${handleOffset}px, 0)`;\n      }\n    }\n  }\n\n  toggleTrackVisibility(axis = 'y') {\n    let track = axis === 'y' ? this.trackY : this.trackX;\n    let scrollbar = axis === 'y' ? this.scrollbarY : this.scrollbarX;\n\n    if (this.isEnabled[axis] || this.options.forceVisible) {\n      track.style.visibility = 'visible';\n    } else {\n      track.style.visibility = 'hidden';\n    }\n\n    // Even if forceVisible is enabled, scrollbar itself should be hidden\n    if (this.options.forceVisible) {\n      if (this.isEnabled[axis]) {\n        scrollbar.style.visibility = 'visible';\n      } else {\n        scrollbar.style.visibility = 'hidden';\n      }\n    }\n  }\n\n  hideNativeScrollbar() {\n    // Recalculate scrollbarWidth in case it's a zoom\n    this.scrollbarWidth = scrollbarWidth();\n\n    this.scrollContentEl.style[\n      this.isRtl ? 'paddingLeft' : 'paddingRight'\n    ] = `${this.scrollbarWidth || this.offsetSize}px`;\n    this.scrollContentEl.style.marginBottom = `-${this.scrollbarWidth * 2 ||\n      this.offsetSize}px`;\n    this.contentEl.style.paddingBottom = `${this.scrollbarWidth ||\n      this.offsetSize}px`;\n\n    if (this.scrollbarWidth !== 0) {\n      this.contentEl.style[this.isRtl ? 'marginLeft' : 'marginRight'] = `-${\n        this.scrollbarWidth\n      }px`;\n    }\n  }\n\n  /**\n   * On scroll event handling\n   */\n  onScrollX = () => {\n    if (!this.scrollXTicking) {\n      window.requestAnimationFrame(this.scrollX);\n      this.scrollXTicking = true;\n    }\n  }\n\n  onScrollY = () => {\n    if (!this.scrollYTicking) {\n      window.requestAnimationFrame(this.scrollY);\n      this.scrollYTicking = true;\n    }\n  }\n\n  scrollX = () => {\n    this.showScrollbar('x');\n    this.positionScrollbar('x');\n    this.scrollXTicking = false;\n  }\n\n  scrollY = () => {\n    this.showScrollbar('y');\n    this.positionScrollbar('y');\n    this.scrollYTicking = false;\n  }\n\n  onMouseEnter = () => {\n    this.showScrollbar('x');\n    this.showScrollbar('y');\n  }\n\n  onMouseMove = (e) => {\n    const bboxY = this.trackY.getBoundingClientRect();\n    const bboxX = this.trackX.getBoundingClientRect();\n\n    this.mouseX = e.clientX;\n    this.mouseY = e.clientY;\n\n    if (this.isWithinBounds(bboxY)) {\n      this.showScrollbar('y');\n    }\n\n    if (this.isWithinBounds(bboxX)) {\n      this.showScrollbar('x');\n    }\n  }\n\n  onWindowResize = () => {\n    this.hideNativeScrollbar();\n  }\n\n  /**\n   * Show scrollbar\n   */\n  showScrollbar(axis = 'y') {\n    let scrollbar;\n\n    // Scrollbar already visible\n    if (this.isVisible[axis]) {\n      return;\n    }\n\n    if (axis === 'x') {\n      scrollbar = this.scrollbarX;\n    } else {\n      // 'y'\n      scrollbar = this.scrollbarY;\n    }\n\n    if (this.isEnabled[axis]) {\n      scrollbar.classList.add('visible');\n      this.isVisible[axis] = true;\n    }\n\n    if (!this.options.autoHide) {\n      return;\n    }\n\n    window.clearInterval(this.flashTimeout);\n    this.flashTimeout = window.setInterval(this.hideScrollbars, this.options.timeout);\n  }\n\n  /**\n   * Hide Scrollbar\n   */\n  hideScrollbars = () => {\n    const bboxY = this.trackY.getBoundingClientRect();\n    const bboxX = this.trackX.getBoundingClientRect();\n\n    if (!this.isWithinBounds(bboxY)) {\n      this.scrollbarY.classList.remove('visible');\n      this.isVisible.y = false;\n    }\n\n    if (!this.isWithinBounds(bboxX)) {\n      this.scrollbarX.classList.remove('visible');\n      this.isVisible.x = false;\n    }\n  }\n\n  onMouseDown = (e) => {\n    const bboxY = this.scrollbarY.getBoundingClientRect();\n    const bboxX = this.scrollbarX.getBoundingClientRect();\n\n    if (this.isWithinBounds(bboxY)) {\n      e.preventDefault();\n      this.onDrag(e, 'y');\n    }\n\n    if (this.isWithinBounds(bboxX)) {\n      e.preventDefault();\n      this.onDrag(e, 'x');\n    }\n  }\n\n  /**\n   * on scrollbar handle drag\n   */\n  onDrag(e, axis = 'y') {\n    // Preventing the event's default action stops text being\n    // selectable during the drag.\n    e.preventDefault();\n\n    const scrollbar = axis === 'y' ? this.scrollbarY : this.scrollbarX;\n\n    // Measure how far the user's mouse is from the top of the scrollbar drag handle.\n    const eventOffset = axis === 'y' ? e.pageY : e.pageX;\n\n    this.dragOffset[axis] =\n      eventOffset - scrollbar.getBoundingClientRect()[this.offsetAttr[axis]];\n    this.currentAxis = axis;\n\n    document.addEventListener('mousemove', this.drag);\n    document.addEventListener('mouseup', this.onEndDrag);\n  }\n\n  /**\n   * Drag scrollbar handle\n   */\n  drag = (e) => {\n    let eventOffset, track, scrollEl;\n\n    e.preventDefault();\n\n    if (this.currentAxis === 'y') {\n      eventOffset = e.pageY;\n      track = this.trackY;\n      scrollEl = this.scrollContentEl;\n    } else {\n      eventOffset = e.pageX;\n      track = this.trackX;\n      scrollEl = this.contentEl;\n    }\n\n    // Calculate how far the user's mouse is from the top/left of the scrollbar (minus the dragOffset).\n    let dragPos =\n      eventOffset -\n      track.getBoundingClientRect()[this.offsetAttr[this.currentAxis]] -\n      this.dragOffset[this.currentAxis];\n\n    // Convert the mouse position into a percentage of the scrollbar height/width.\n    let dragPerc = dragPos / track[this.sizeAttr[this.currentAxis]];\n\n    // Scroll the content by the same percentage.\n    let scrollPos =\n      dragPerc * this.contentEl[this.scrollSizeAttr[this.currentAxis]];\n\n    scrollEl[this.scrollOffsetAttr[this.currentAxis]] = scrollPos;\n  }\n\n  /**\n   * End scroll handle drag\n   */\n  onEndDrag = () => {\n    document.removeEventListener('mousemove', this.drag);\n    document.removeEventListener('mouseup', this.onEndDrag);\n  }\n\n  /**\n   * Getter for original scrolling element\n   */\n  getScrollElement(axis = 'y') {\n    return axis === 'y' ? this.scrollContentEl : this.contentEl;\n  }\n\n  /**\n   * Getter for content element\n   */\n  getContentElement() {\n    return this.contentEl;\n  }\n\n  removeListeners() {\n    // Event listeners\n    if (this.options.autoHide) {\n      this.el.removeEventListener('mouseenter', this.onMouseEnter);\n    }\n\n    this.scrollContentEl.removeEventListener('scroll', this.onScrollY);\n    this.contentEl.removeEventListener('scroll', this.onScrollX);\n\n    this.mutationObserver.disconnect();\n    this.resizeObserver.disconnect();\n  }\n\n  /**\n   * UnMount mutation observer and delete SimpleBar instance from DOM element\n   */\n  unMount() {\n    this.removeListeners();\n    this.el.SimpleBar = null;\n  }\n\n  /**\n   * Recursively walks up the parent nodes looking for this.el\n   */\n  isChildNode(el) {\n    if (el === null) return false;\n    if (el === this.el) return true;\n\n    return this.isChildNode(el.parentNode);\n  }\n\n  /**\n   * Check if mouse is within bounds\n   */\n  isWithinBounds(bbox) {\n    return this.mouseX >= bbox.left && this.mouseX <= bbox.left + bbox.width && this.mouseY >= bbox.top && this.mouseY <= bbox.top + bbox.height;\n  }\n}\n\n/**\n * HTML API\n * Called only in a browser env.\n */\nif (canUseDOM) {\n  SimpleBar.initHtmlApi();\n}\n"],"names":["SimpleBar","element","options","onScrollX","scrollXTicking","window","requestAnimationFrame","scrollX","onScrollY","scrollYTicking","scrollY","showScrollbar","positionScrollbar","onMouseEnter","onMouseMove","e","bboxY","trackY","getBoundingClientRect","bboxX","trackX","mouseX","clientX","mouseY","clientY","isWithinBounds","onWindowResize","hideNativeScrollbar","hideScrollbars","scrollbarY","classList","remove","isVisible","y","scrollbarX","x","onMouseDown","preventDefault","onDrag","drag","eventOffset","track","scrollEl","currentAxis","pageY","scrollContentEl","pageX","contentEl","dragPos","offsetAttr","dragOffset","dragPerc","sizeAttr","scrollPos","scrollSizeAttr","scrollOffsetAttr","onEndDrag","document","removeEventListener","el","flashTimeout","isEnabled","handleSize","globalObserver","mutationObserver","resizeObserver","scrollbarWidth","Object","assign","defaultOptions","isRtl","direction","classNames","offsetSize","recalculate","throttle","bind","init","initDOM","canUseDOM","render","initListeners","Array","from","children","filter","child","contains","scrollContent","length","querySelector","content","createElement","add","firstChild","appendChild","scrollbar","autoHide","cloneNode","insertBefore","setAttribute","addEventListener","MutationObserver","mutations","forEach","mutation","isChildNode","target","addedNodes","observe","attributes","childList","characterData","subtree","ResizeObserver","contentSizeX","contentSizeY","trackXSize","trackYSize","resizeScrollbar","toggleTrackVisibility","axis","contentSize","trackSize","forceVisible","scrollbarRatio","Math","max","scrollbarMinSize","scrollbarMaxSize","min","style","width","height","scrollOffset","scrollPourcent","handleOffset","transform","visibility","marginBottom","paddingBottom","clearInterval","setInterval","timeout","disconnect","removeListeners","parentNode","bbox","left","top","initDOMLoadedElements","addedNode","nodeType","hasAttribute","getElOptions","querySelectorAll","removedNodes","removedNode","unMount","readyState","documentElement","doScroll","setTimeout","reduce","acc","attribute","option","name","match","key","replace","chr","toUpperCase","value","undefined","initHtmlApi"],"mappings":"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"}